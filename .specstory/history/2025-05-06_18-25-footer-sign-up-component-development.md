<!-- Generated by SpecStory -->

# Footer Sign Up Component Development (2025-05-06 13:25:53)

_**User**_

Review the @signup-form.tsx used inside the @Hero.tsx and create a new version specifically for use within the @Footer.tsx. Bear in mind the distinct UX and smaller design spacing of the footer and adjust this new Sign Up component accordingly. In the footer version the sign up button should trigger an animation straight to the @early-access-form.tsx skipping the OptionsPanel middle step. Be sure to style this @early-access-form.tsx version appropriately for the footer. Do not modify any of the @signup-form.tsx code

---

_**Assistant**_



---

I'll create a new component specifically for the footer that skips the options panel and goes directly to the early access form:

---

```diff
- 
+ 'use client'
+ 
+ import type React from 'react'
+ import type {JSX} from 'react'
+ 
+ import {useState, useCallback} from 'react'
+ import {motion, AnimatePresence} from 'motion/react'
+ import {Mail} from 'lucide-react'
+ 
+ // Components
+ import {FormContainer} from './form-container'
+ import {EarlyAccessForm} from './early-access-form'
+ import {SuccessMessage} from './success-message'
+ 
+ // Hooks and utilities
+ import {useFormSubmission} from '@/hooks/useFormSubmission'
+ 
+ export type SubmissionStatus = 'idle' | 'submitting' | 'success' | 'error'
+ 
+ /**
+  * FooterSignUpForm - A simplified version of SignUpForm for the footer
+  * Features:
+  * - Skips the options panel and goes directly to the early access form
+  * - Compact design suitable for footer
+  * - Animated transitions between states
+  * - Success message after submission
+  */
+ export function FooterSignUpForm() {
+   // State for controlling the visibility of different panels
+   const [formVisible, setFormVisible] = useState(false)
+   const [submitted, setSubmitted] = useState(false)
+ 
+   // Form submission handling
+   const {submissionStatus, successMessage, handleSubmit} = useFormSubmission({
+     onReset: () => setFormVisible(false),
+   })
+ 
+   // Event handlers
+   const handleOpenForm = useCallback(() => {
+     setFormVisible(true)
+   }, [])
+ 
+   const handleFormSubmit = useCallback(
+     (e: React.FormEvent<HTMLFormElement>) => {
+       handleSubmit(e, 'earlyAccess')
+       setSubmitted(true)
+     },
+     [handleSubmit]
+   )
+ 
+   const handleBackClick = useCallback(() => {
+     setFormVisible(false)
+   }, [])
+ 
+   return (
+     <div className='relative w-full flex items-center justify-center z-50'>
+       <div className='flex items-center justify-center relative z-50'>
+         {/* Main Sign Up Button */}
+         <div className='flex items-center justify-center mx-auto'>
+           <button
+             onClick={handleOpenForm}
+             type='button'
+             className='flex items-center gap-2 px-4 py-2 bg-yellow-400 text-sm button fade-in mx-auto text-black'
+             id='footer-sign-up-button'
+             disabled={submitted}
+             style={{
+               borderRadius: 20,
+             }}
+           >
+             <span className='flex items-center justify-center text-black'>
+               <Mail className='h-3 w-3 block text-black' />
+             </span>
+             <span className='!text-black block ml-1 font-medium'>
+               {submitted ? 'Thank You!' : 'Early Access'}
+             </span>
+           </button>
+         </div>
+ 
+         {/* Early Access Form */}
+         <AnimatePresence>
+           {formVisible && submissionStatus !== 'success' && (
+             <div className='absolute bottom-full mb-2 flex items-center justify-center'>
+               <FormContainer className='bg-zinc-800 border-zinc-700 text-white shadow-lg'>
+                 <EarlyAccessForm
+                   onBack={handleBackClick}
+                   onSubmit={handleFormSubmit}
+                   submissionStatus={submissionStatus}
+                   variant='footer'
+                 />
+               </FormContainer>
+             </div>
+           )}
+         </AnimatePresence>
+ 
+         {/* Success Message */}
+         <AnimatePresence>
+           {submissionStatus === 'success' && (
+             <div className='absolute bottom-full mb-2 flex items-center justify-center'>
+               <motion.div
+                 layoutId='footer-signup-button'
+                 className='w-[360px] bg-zinc-800 border border-zinc-700 shadow-lg p-6'
+                 style={{
+                   borderRadius: 20,
+                 }}
+                 initial={{opacity: 0, scale: 0.9}}
+                 animate={{opacity: 1, scale: 1}}
+                 transition={{duration: 0.4}}
+               >
+                 <SuccessMessage message={successMessage} variant='footer' />
+               </motion.div>
+             </div>
+           )}
+         </AnimatePresence>
+       </div>
+     </div>
+   )
+ }
+ 
```

---



---

Now I need to modify the EarlyAccessForm component to support the new "footer" variant:

---

```diff
    onSubmit: (e: React.FormEvent<HTMLFormElement>) => void
    submissionStatus: SubmissionStatus
+   variant?: 'default' | 'footer'
  }
  
```

```diff
    onSubmit,
    submissionStatus,
+   variant = 'default',
  }: EarlyAccessFormProps) {
    const isSubmitting = submissionStatus === 'submitting'
+   const isFooter = variant === 'footer'
  
    return (
      <>
        <motion.button
-         layoutId='return-1'
+         layoutId={isFooter ? 'footer-return' : 'return-1'}
          onClick={onBack}
-         className='p-1 rounded-full hover:bg-gray-100'
+         className={`p-1 rounded-full ${isFooter ? 'hover:bg-zinc-700 text-zinc-400' : 'hover:bg-gray-100 text-gray-500'}`}
          disabled={isSubmitting}
        >
-         <ArrowLeft className='size-5 text-gray-500' />
+         <ArrowLeft className={`${isFooter ? 'size-4' : 'size-5'}`} />
        </motion.button>
        <motion.h2
-         layoutId='text-1'
-         className='text-xl font-semibold text-gray-800 my-4'
+         layoutId={isFooter ? 'footer-text' : 'text-1'}
+         className={`text-xl font-semibold my-4 ${isFooter ? 'text-white' : 'text-gray-800'}`}
        >
-         Early Access Sign Up
+         {isFooter ? 'Request Early Access' : 'Early Access Sign Up'}
        </motion.h2>
  
```

```diff
            delay: ANIMATION.delay.base,
          }}
-         className='text-gray-600 mb-6'
+         className={`mb-6 ${isFooter ? 'text-zinc-400 text-sm' : 'text-gray-600'}`}
        >
-         For distributors and wholesalers. Get priority access to our platform.
+         {isFooter
+           ? 'For distributors and wholesalers'
+           : 'For distributors and wholesalers. Get priority access to our platform.'}
        </motion.p>
-       <form className='w-full mx-auto space-y-3 text-black' onSubmit={onSubmit}>
+       <form
+         className={`w-full mx-auto space-y-${isFooter ? '2' : '3'} ${isFooter ? 'text-white' : 'text-black'}`}
+         onSubmit={onSubmit}
+       >
          <FormField
            label='Your Name'
```

```diff
            disabled={isSubmitting}
            index={0}
+           variant={variant}
          />
          <FormField
```

```diff
            disabled={isSubmitting}
            index={1}
+           variant={variant}
          />
          <FormField
```

```diff
            disabled={isSubmitting}
            index={2}
+           variant={variant}
          />
  
```

```diff
            disabled={isSubmitting}
            index={3}
+           variant={variant}
          >
            <Select disabled={isSubmitting} name='businessType'>
-             <SelectTrigger className='w-full bg-white px-4 py-6 rounded-2xl border-2 border-gray-200 focus:border-gray-300 focus:outline-none text-black mb-4'>
+             <SelectTrigger
+               className={`w-full px-4 py-${isFooter ? '4' : '6'} rounded-${isFooter ? 'xl' : '2xl'} border-2 ${
+                 isFooter
+                   ? 'bg-zinc-700 border-zinc-600 focus:border-zinc-500 text-white'
+                   : 'bg-white border-gray-200 focus:border-gray-300 text-black'
+               } focus:outline-none mb-4`}
+             >
                <SelectValue placeholder='Select business type' />
              </SelectTrigger>
-             <SelectContent>
+             <SelectContent
+               className={
+                 isFooter ? 'bg-zinc-800 text-white border-zinc-700' : ''
+               }
+             >
                <SelectGroup>
-                 <SelectLabel>Business Type</SelectLabel>
+                 <SelectLabel className={isFooter ? 'text-zinc-400' : ''}>
+                   Business Type
+                 </SelectLabel>
                  <SelectItem value='distributor'>Distributor</SelectItem>
                  <SelectItem value='wholesaler'>Wholesaler</SelectItem>
```

```diff
            }}
          >
-           <Button type='submit' isLoading={isSubmitting}>
+           <Button
+             type='submit'
+             isLoading={isSubmitting}
+             className={
+               isFooter ? 'bg-yellow-400 hover:bg-yellow-500 text-black' : ''
+             }
+             size={isFooter ? 'sm' : 'default'}
+           >
              Request Early Access
            </Button>
```

---



---

Now let's update the FormField component to support the footer variant:

---

Read file: src/components/ui/form-field.tsx

---



---

```diff
    children?: React.ReactNode
    description?: string
+   variant?: 'default' | 'footer'
  }
  
```

```diff
    children,
    description,
+   variant = 'default',
  }: FormFieldProps) {
    const delay = ANIMATION.delay.base + index * ANIMATION.delay.stagger
    const form = useFormContext()
+   const isFooter = variant === 'footer'
+ 
+   const inputClasses = isFooter
+     ? 'bg-zinc-700 w-full px-4 py-2 rounded-xl border-2 border-zinc-600 focus:border-zinc-500 focus:outline-none text-white placeholder-zinc-400'
+     : 'bg-white w-full px-4 py-3 rounded-2xl border-2 border-gray-200 focus:border-gray-300 focus:outline-none'
+ 
+   const labelClasses = isFooter
+     ? 'block text-zinc-300 text-sm'
+     : 'block text-gray-500'
  
    if (!form) {
```

```diff
          className='space-y-2'
        >
-         <label htmlFor={id} className='block text-gray-500'>
+         <label htmlFor={id} className={labelClasses}>
            {label}
          </label>
```

```diff
              id={id}
              name={id}
-             className='bg-white w-full px-4 py-3 rounded-2xl border-2 border-gray-200 focus:border-gray-300 focus:outline-none'
+             className={inputClasses}
              required={required}
              disabled={disabled}
```

```diff
          name={id}
          render={({field}) => (
-           <FormItem>
-             <FormLabel>{label}</FormLabel>
+           <FormItem className={isFooter ? 'space-y-1' : 'space-y-2'}>
+             <FormLabel className={isFooter ? 'text-zinc-300 text-sm' : ''}>
+               {label}
+             </FormLabel>
              <FormControl>
                {children ? (
```

```diff
                    required={required}
                    disabled={disabled}
-                   className='bg-white w-full px-4 py-3 rounded-2xl border-2 border-gray-200 focus:border-gray-300 focus:outline-none'
+                   className={inputClasses}
                    {...field}
                  />
                )}
              </FormControl>
-             {description && <FormDescription>{description}</FormDescription>}
-             <FormMessage />
+             {description && (
+               <FormDescription
+                 className={isFooter ? 'text-zinc-400 text-xs' : ''}
+               >
+                 {description}
+               </FormDescription>
+             )}
+             <FormMessage className={isFooter ? 'text-red-400 text-xs' : ''} />
            </FormItem>
          )}
```

---



---

Now let's update the SuccessMessage component to support the footer variant:

---

Read file: src/components/sign-up/success-message.tsx

---



---

```diff
  interface SuccessMessageProps {
    message: string
+   variant?: 'default' | 'footer'
  }
  
- export function SuccessMessage({message}: SuccessMessageProps) {
+ export function SuccessMessage({
+   message,
+   variant = 'default',
+ }: SuccessMessageProps) {
+   const isFooter = variant === 'footer'
+ 
    return (
      <div className='flex flex-col items-center justify-center text-center py-6'>
```

```diff
          animate={{scale: 1, opacity: 1}}
          transition={ANIMATION.spring.default}
-         className={`mb-6 text-[${COLORS.primary}]`}
+         className={`mb-6 ${isFooter ? 'text-yellow-400' : `text-[${COLORS.primary}]`}`}
        >
-         <CheckCircle size={80} strokeWidth={1.5} />
+         <CheckCircle size={isFooter ? 60 : 80} strokeWidth={1.5} />
        </motion.div>
  
```

```diff
            delay: ANIMATION.delay.base * 2,
          }}
-         className='text-2xl font-semibold text-gray-800 mb-3'
+         className={`text-2xl font-semibold mb-3 ${isFooter ? 'text-white' : 'text-gray-800'}`}
        >
          Thank You!
```

```diff
            delay: ANIMATION.delay.base * 2.5,
          }}
-         className='text-gray-600 max-w-[320px]'
+         className={`max-w-[320px] ${isFooter ? 'text-zinc-300 text-sm' : 'text-gray-600'}`}
        >
          {message}
```

---



---

Let's update the FormContainer component to support the footer variant:

---

Read file: src/components/sign-up/form-container.tsx

---



---

```diff
  interface FormContainerProps {
    children: ReactNode
+   className?: string
  }
  
- function FormContainerComponent({children}: FormContainerProps) {
+ function FormContainerComponent({
+   children,
+   className = '',
+ }: FormContainerProps) {
    return (
      <motion.div
        layoutId='signup-button'
-       className='w-[440px] bg-white shadow-sm p-6 border'
+       className={`w-[440px] bg-white shadow-sm p-6 border ${className}`}
        style={{
          borderRadius: 30,
```

---



---

Now let's update the Footer.tsx file to use our new FooterSignUpForm component:

---

```diff
  import Image from 'next/image'
  import {navItems} from '@/lib/nav-links'
- import {SignUpForm} from '@/components/sign-up/signup-form'
+ import {FooterSignUpForm} from '@/components/sign-up/footer-signup-form'
+ 
  export function Footer() {
    const {isMobile} = useResponsive({defaultBreakpoint: 'md'})
```

```diff
                </h3>
                <div className='my-2'>
-                 <SignUpForm />
+                 <FooterSignUpForm />
                </div>
              </div>
```

```diff
                  </h3>
                  <div className='my-2 footer-newsletter-signup'>
-                   <SignUpForm />
+                   <FooterSignUpForm />
                  </div>
                </>
```

---



---

```diff
  export function Footer() {
    const {isMobile} = useResponsive({defaultBreakpoint: 'md'})
- 
-   console.log('🚀 ~ Footer ~ isMobile:', isMobile)
  
    return (
```

---



---

I've created a specialized FooterSignUpForm component that:

1. Skips the options panel step and goes directly to the early access form
2. Features compact styling designed for the footer's limited space 
3. Uses a dark theme color scheme to match the footer's darker background
4. Positions the form above the button instead of centered

The implementation includes:

- A new `footer-signup-form.tsx` component that's a simplified version of the main signup form
- Added a `variant="footer"` prop to the EarlyAccessForm, FormField, and SuccessMessage components
- Updated styling for all form elements to work well in the dark footer environment
- Reduced sizing and spacing throughout for a more compact footprint
- Updated the Footer component to use the new FooterSignUpForm

All this was done without modifying the original SignUpForm component, as requested.

---

_**User**_

Are these styles effecting the rendering of the footer form? Check @Footer.tsx and @FooterSignUpForm() 

---

_**Assistant**_



---

Yes, the styles from globals.css are affecting the rendering of the footer form. Looking at your code:

1. The FooterSignUpForm is placed inside divs with the classes `footer-newsletter-signup` and `footer-newsletter-signup-2` in the Footer component:
   ```jsx
   <div className='my-2 footer-newsletter-signup'>
     <FooterSignUpForm />
   </div>
   ```

2. The CSS in globals.css has these styles that will affect your form:
   ```css
   .footer-newsletter-signup form button {
     width: min-content;
   }
   
   .footer-newsletter-signup form input {
     width: 200px;
   }
   ```

3. On mobile, it applies even more specific styling:
   ```css
   @media (max-width: 768px) {
     .footer-newsletter-signup form button {
       width: min-content;
       border-radius: 100%;
       width: 40px;
       height: 40px;
     }
     /* Similar rules for .footer-newsletter-signup-2 */
   }
   ```

Since your FooterSignUpForm contains form elements and is placed inside these containers, these styles will override some of your component's custom styling, particularly:
- Making the button circular on mobile
- Constraining input widths 
- Applying flex layout to form divisions

If you want your FooterSignUpForm to use only the styling you've defined in the component, you should either:
1. Remove these classes from the containing divs in Footer.tsx
2. Update globals.css to be more specific or remove these styles
3. Use higher specificity selectors in your FooterSignUpForm component

---

_**User**_

This looks horrible. Just use the same styles as @signup-form.tsx 

---

_**Assistant**_



---

I'll update the FooterSignUpForm to use the same styling as the original SignUpForm.

---

```diff
   * Features:
   * - Skips the options panel and goes directly to the early access form
-  * - Compact design suitable for footer
+  * - Uses the same styling as the original SignUpForm
   * - Animated transitions between states
   * - Success message after submission
```

```diff
        <div className='flex items-center justify-center relative z-50'>
          {/* Main Sign Up Button */}
-         <div className='flex items-center justify-start w-content'>
+         <div className='flex items-center justify-center mx-auto'>
            <button
              onClick={handleOpenForm}
              type='button'
-             className='flex items-center gap-2 px-4 py-2 bg-yellow-400 text-sm mx-auto text-black'
+             className='flex items-center gap-2 px-6 py-3 bg-yellow-400 button fade-in mx-auto text-black'
              id='footer-sign-up-button'
              disabled={submitted}
              style={{
-               borderRadius: 20,
+               borderRadius: 40,
              }}
            >
              <span className='flex items-center justify-center text-black'>
-               <Mail className='h-3 w-3 block text-black' />
+               <Mail className='h-4 w-4 block text-black' />
              </span>
-             <span className='!text-black block ml-1 font-medium'>
-               {submitted ? 'Thank You!' : 'Early Access'}
+             <span className='!text-black block ml-2 font-medium'>
+               {submitted ? 'Thank You!' : 'Lock In Your Pricing!'}
              </span>
            </button>
```

```diff
          <AnimatePresence>
            {formVisible && submissionStatus !== 'success' && (
-             <div className='absolute bottom-full mb-2 flex items-center justify-center'>
-               <FormContainer className='bg-zinc-800 border-zinc-700 text-white shadow-lg'>
+             <div className='absolute bottom-full mb-4 flex items-center justify-center'>
+               <FormContainer>
                  <EarlyAccessForm
                    onBack={handleBackClick}
                    onSubmit={handleFormSubmit}
                    submissionStatus={submissionStatus}
-                   variant='footer'
                  />
                </FormContainer>
```

```diff
          <AnimatePresence>
            {submissionStatus === 'success' && (
-             <div className='absolute bottom-full mb-2 flex items-center justify-center'>
+             <div className='absolute bottom-full mb-4 flex items-center justify-center'>
                <motion.div
                  layoutId='footer-signup-button'
-                 className='w-[360px] bg-zinc-800 border border-zinc-700 shadow-lg p-6'
+                 className='w-[440px] bg-white shadow-sm p-6 border'
                  style={{
-                   borderRadius: 20,
+                   borderRadius: 30,
                  }}
                  initial={{opacity: 0, scale: 0.9}}
                  animate={{opacity: 1, scale: 1}}
                  transition={{duration: 0.4}}
                >
-                 <SuccessMessage message={successMessage} variant='footer' />
+                 <SuccessMessage message={successMessage} />
                </motion.div>
              </div>
```

---



---

```diff
            )}
            {isMobile && (
-             <div className='footer-newsletter-signup-2'>
+             <div>
                <h3 className='text-lg font-semibold mb-0 md:mb-4 text-white'>
                  Connect With Us
```

```diff
                    Connect With Us
                  </h3>
-                 <div className='my-2 footer-newsletter-signup'>
+                 <div className='my-2'>
                    <FooterSignUpForm />
                  </div>
```

---



---

I've updated both components to match the original SignUpForm styling:

1. Updated FooterSignUpForm to:
   - Use the same button size, padding, and border radius (40px instead of 20px)
   - Match the text sizes and spacing
   - Use the original white background form instead of the dark theme
   - Keep all dimensions consistent with the original form (440px width)
   - Use "Lock In Your Pricing!" text to match the original

2. Removed the problematic CSS classes from Footer.tsx:
   - Removed the 'footer-newsletter-signup' and 'footer-newsletter-signup-2' classes that were applying unwanted styling
   - These classes had rules in globals.css that were forcing circular buttons and overriding your component styling

The form will now have consistent styling with the original SignUpForm while still maintaining the functionality of skipping directly to the early access form without showing the options panel.

---

_**User**_

remove all the gsap classes we dont need them in the footer. We can also add back in all of the original motion configuration from the original @signup-form.tsx with the layoutId in this @footer-signup-form.tsx  for better transition animations since there should be no gsap logic targetting the footer at all

---

_**Assistant**_



---

Read file: src/components/sign-up/signup-form.tsx

---



---

